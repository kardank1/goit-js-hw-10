{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nlet userSelectedDate;\nconst startBtn = document.querySelector(\"button[data-start]\")\nconst days = document.querySelector(\"span[data-days]\")\nconst hours = document.querySelector(\"span[data-hours]\")\nconst minutes = document.querySelector(\"span[data-minutes]\")\nconst seconds = document.querySelector(\"span[data-seconds]\")\nconsole.log(days);\nstartBtn.setAttribute(\"disabled\", \"disabled\")\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      if(selectedDates[0].getTime()>Date.now()){\n        userSelectedDate = selectedDates[0];\n        startBtn.removeAttribute(\"disabled\")\n        }\n      else{\n        iziToast.error({\n          message: 'Please choose a date in the future',\n          position: 'topRight'\n      });\n        startBtn.setAttribute(\"disabled\", \"disabled\")\n        }\n    },\n  };\nconst myInput = document.querySelector(\"#datetime-picker\");\nconsole.log(myInput);\nconst fp = flatpickr(myInput, options);\n\nstartBtn.addEventListener(\"click\", startTimer);\n\nfunction startTimer(){\n    startBtn.setAttribute(\"disabled\", \"disabled\")\n    myInput.setAttribute(\"disabled\", \"disabled\")\n\n    const idIntervals = setInterval(() => {\n       const timeLeft = convertMs(Math.abs(Date.now() - userSelectedDate.getTime()));\n       if((Date.now() - userSelectedDate.getTime()) < 0){\n       days.textContent = addLeadingZero(timeLeft.days)\n       hours.textContent = addLeadingZero(timeLeft.hours)\n       minutes.textContent = addLeadingZero(timeLeft.minutes)\n       seconds.textContent = addLeadingZero(timeLeft.seconds)\n       }else{ \n        myInput.removeAttribute(\"disabled\")\n        clearInterval(idIntervals)\n      }\n    }, 1000)\n}\n\n\n\nfunction addLeadingZero(value){ return value.toString().padStart(2, \"0\") }\n\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}"],"names":["userSelectedDate","startBtn","days","hours","minutes","seconds","options","selectedDates","iziToast","myInput","flatpickr","startTimer","idIntervals","timeLeft","convertMs","addLeadingZero","value","ms"],"mappings":"2GAOA,IAAIA,EACJ,MAAMC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAC3D,QAAQ,IAAIH,CAAI,EAChBD,EAAS,aAAa,WAAY,UAAU,EAE5C,MAAMK,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACzBA,EAAc,CAAC,EAAE,QAAO,EAAG,KAAK,OACjCP,EAAmBO,EAAc,CAAC,EAClCN,EAAS,gBAAgB,UAAU,IAGnCO,EAAS,MAAM,CACb,QAAS,qCACT,SAAU,UACpB,CAAO,EACCP,EAAS,aAAa,WAAY,UAAU,EAE/C,CACL,EACMQ,EAAU,SAAS,cAAc,kBAAkB,EACzD,QAAQ,IAAIA,CAAO,EACRC,EAAUD,EAASH,CAAO,EAErCL,EAAS,iBAAiB,QAASU,CAAU,EAE7C,SAASA,GAAY,CACjBV,EAAS,aAAa,WAAY,UAAU,EAC5CQ,EAAQ,aAAa,WAAY,UAAU,EAE3C,MAAMG,EAAc,YAAY,IAAM,CACnC,MAAMC,EAAWC,EAAU,KAAK,IAAI,KAAK,IAAG,EAAKd,EAAiB,QAAS,CAAA,CAAC,EACxE,KAAK,IAAG,EAAKA,EAAiB,QAAS,EAAI,GAC/CE,EAAK,YAAca,EAAeF,EAAS,IAAI,EAC/CV,EAAM,YAAcY,EAAeF,EAAS,KAAK,EACjDT,EAAQ,YAAcW,EAAeF,EAAS,OAAO,EACrDR,EAAQ,YAAcU,EAAeF,EAAS,OAAO,IAEpDJ,EAAQ,gBAAgB,UAAU,EAClC,cAAcG,CAAW,EAE5B,EAAE,GAAI,CACX,CAIA,SAASG,EAAeC,EAAM,CAAE,OAAOA,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,CAAG,CAG1E,SAASF,EAAUG,EAAI,CAQnB,MAAMf,EAAO,KAAK,MAAMe,EAAK,KAAG,EAE1Bd,EAAQ,KAAK,MAAOc,EAAK,MAAO,IAAI,EAEpCb,EAAU,KAAK,MAAQa,EAAK,MAAO,KAAQ,GAAM,EAEjDZ,EAAU,KAAK,MAASY,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAf,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIS,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}